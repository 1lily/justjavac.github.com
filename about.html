---
layout: page
title : 关于迷渡
header : 关于迷渡
---
{% include JB/setup %}

<p>
	运行下面 javascript 代码，可以看到我的信息。
</p>

<pre>
<code>(+[[]+(1<<1<<1<<1)+(1^1<<1)+(1<<1>>1)+(-~1<<1<<1)+(1.1>>1.1)+(11>>>1)])[[(!!/-/+{})[111^111]+[[]+{}][!1&.1][1|1>>1|1]]+([111/[]+[]][+(1>1)][([]+{})[11-1>>1]+[[],[]+{}+[]][[]+1][1]+(/^/[1]+[])[1|1>>1|1]+[{},1e1,!{}+[]][1+1][1<<1^1]+(11/!{}+{})[~1+1e1+~1]+[!!{}+{}][[]&111][1&1]+(/^/[111]+[])[11^11]+[{},[{}]+{},1][1+[]][11-~1+11>>1]+(!!1+{})[1&1>>1]+([]+{1:1}+[])[1|1]+[[]+!!1][111>>>111][1<<1>>1]]+[])[([]+![111])[1|1<<1|1]+[/=/,[]+[][11]][1|[]][1>>1]+([{}]+{})[1+!![1]]+[1,!1+/~/][1%11][1^1<<1]+(111/[]+{})[~1+1e1+~1]+[!!/-/+/-/][111%111][+!!1]]((~1+1e1+1)+((!1&.1)==([]+/-/[(!![111]+{})[1^1]+(!![1]+[])[1<<1^1]+(!{}+{})[1^1<<1]+(!![1]+/-/)[+(1>1)]])[+(1>1)]),1-~1<<1)](~1-~1e1<<1<<1)+":"+(([]===[])+/-/)[5]+(([]===[])+/-/)[5]+(+[[]+(1e1>>1)+(~1+1e1+~1)+(!1&.1)+(111%11)+(1+1<<1)+(1<<1^11>>1)+(1<<1<<1)+(~1+1e1+1)+(+(1>1))+(+[])+(~1-1+11)+(-~1<<1<<1)+(1-~1<<1)+(~1+1e1)])[[(!!/-/+[])[11&[]]+[[]+{11:11}+[]][111>>111][1+[]]]+([11/!1+/1/][1&1>>1][([{}]+{})[1e1>>1|1]+[[],[]+{111:111}+[]][1|1][111%11]+([]+[][11])[1<<1>>1]+[{},1e1,!/~/+{}][1<<1^1>>1][1<<1^1]+([]+11/!{})[~1+1e1+~1]+[!![111]+[]][1%1][1&1]+([]+[][111])[.1^!1]+[{},[]+{},1][111%11][11-~1+11>>1]+([]+!!1)[111>>>111]+([]+{}+[])[[]+1]+[!!1+[]][1^1][111%11]]+[])[(!1+{})[1^1<<1]+[/=/,[]+/^/[11]][1|[]][11.11>>11.11]+([]+{}+[])[~~(1.1+1.1)]+[1,!{}+/~/][1][1|1<<1]+(1/!{}+[])[~1+1e1+~1]+[!![1]+{}][111.111>>111.111][1+[]]]((11^1<<1)+((1>>1)==([]+/-/[(!!/-/+/-/)[+(111>111)]+(!![11]+[])[1-~1]+(![11]+{})[1|1<<1|1]+(!!{}+[])[11%11]])[111.111>>111.111]),11+1>>1)](~1-~1e1<<1<<1)+"."+(+[[]+([]+1)+(1-~1<<1)+(1+1<<1)+(1|1<<1)+(1<<1<<1<<1)])[[(!!1+{})[!1&.1]+[[]+{}+[]][1&[]][1+[]]]+([11/[]+{}][+(111>111)][([{}]+[{}])[1e1>>1]+[[],[]+{}][[]+1][+!!1]+(/^/[111]+/&/)[1&1]+[{},1e1,!1+[]][1<<1][1^1<<1]+(111/!{}+/1/)[~1+1e1+~1]+[!!/-/+[]][11>>11][1|1]+([][1]+/&/)[1.1>>1.1]+[{},[{}]+{},1][~~1][1+1e1+1]+([]+!!1)[1^1]+([]+{})[1&1]+[!!1+{}][!1&.1][1|[]]]+[])[([]+!1)[1|1<<1|1]+[/=/,[]+/^/[11]][111%11][11.11>>11.11]+([{}]+[{}])[~~(1.1+1.1)]+[1,[]+!/~/][1|1>>1|1][1^1<<1]+([]+11/[])[11+1>>1]+[!!/-/+{}][+(1<1)][~~1]]((1e1-1)+((+[])==([]+/-/[(!!1+[])[!1&.1]+(!!/-/+/-/)[1|1<<1|1]+(!1+{})[1<<1^1]+(!![1]+/-/)[11>>11]])[111^111]),-~11>>1)](~1-~1e1<<1<<1)</code>
</pre>

<h2>如何实现的呢？</h2>

<p>
	有人说是直接拼写的 ASCII 码，这倒也是一种方法，下次试试 ^_^。不过上面的代码不是这么干的。
</p>

<p>
	先来个简单的，就以 <code>justjavac</code> 为例吧。首先我们要输出 <code>j</code>。下面这段代码可以输出 <code>j</code>：
</p>

<pre>
<code>(1+{})[4]</code>
</pre>

<p>
	<strong>解释</strong>：代码 <code>1+{}</code> 的结果是 <code>"1[object Object]"</code>，
	虽然不是最后的结果，但我们庆幸的是，我们得到了一个包含 j 的字符串。
</p>

<p>
	由于字符串可以当作数组一样取里面的元素，于是 <code>(1+{})[4]</code> 就得到了 j。
</p>

<p>
	既然我们得到了 j，那下一步就是 u 了。我们还是按照这个思路，哪个字符串里面还有 u 呢？ 
	在 javascript 中确实有这么一个特殊的值，含有 u： "undefined"，思来想去，可以使用这段代码：
</p>

<pre>
<code>/1/[1]+[]</code>
</pre>

<p>
	分开解释：
</p>

<ol>
    <li><p><code>/1/</code> 是一个正在表达式</p></li>
    <li><p>当他后面跟上 [] 时，被强制转换成了数组，然后去取里面的元素(第二个元素)，得到的结果是 undefined（注意：是 undefined 值，不是字符串）</p></li>
    <li><p>把 undefined 转换成字符串，在这里我们把它和数组相加。</p></li>
</ol>

<p>
	呵呵，上面使用正在表达式 <code>/1/</code> 有点儿卖弄的嫌疑，其实用 <code>1[1]</code> 就够了。
	为了更有 geek 感，可以多出现 0 1， 通过 <code>/1+/[+0]+[+1]</code> 我们可以得到字符串 "undefined1"。
</p>

<h2>相关阅读：</h2>

<ul>
    <li><a href="http://justjavac.com/javascript/2013/04/08/javascript-quirk-1-implicit-conversion-of-values.html" target="_blank">JavaScript 的怪癖 1：隐式类型转换</a></li>
    <li><a href="http://justjavac.com/javascript/2012/05/24/can-you-explain-why-10.html" target="_blank">为什么 ++[[]][+[]]+[+[]] = 10？</a></li>
</ul>

<p>

</p>

<hr/>
    
    由于博客空间在国外，所以有时会造成不稳定（你懂滴），如果您觉得我的博文对您有帮助，
    可以点击下面按钮订阅到邮箱，本站所有文章均已全文输出。
    <br/>
    <!--以下是QQ邮件列表订阅嵌入代码-->
    <a rel="nofollow" target="_blank" href="http://list.qq.com/cgi-bin/qf_invite?id=9470cda4ab8e31116b60ca9011bc7991511661b78345faed"><img border="0" alt="填写您的邮件地址，订阅我们的精彩内容：" src="http://rescdn.list.qq.com/zh_CN/htmledition/images/qunfa/manage/picMode_light_m.png" /></a>
    <wb:follow-button uid="1361535293" type="gray_2" width="136" height="24" ></wb:follow-button>
    
    <hr>
    <!-- UY BEGIN -->
<div id="uyan_frame"></div>
<script type="text/javascript" id="UYScript" src="http://v1.uyan.cc/js/iframe.js?UYUserId=174" async=""></script>
<!-- UY END -->
  </div>
